{% extends "base.html" %}

{% block content %}
<!-- Page Header -->
<div class="text-center mb-10">
    <h1 class="text-3xl font-bold text-red-600 mb-2">🛠️ Error Explainer</h1>
    <p class="text-secondary text-lg">Paste your traceback and get a clean explanation — fast.</p>
</div>

<!-- Error Input Form -->
<form method="post" action="{{ url_for('error_explainer') }}"
      class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-md space-y-6 mb-10">
    <div>
        <label for="traceback" class="block text-sm font-medium text-gray-700 mb-1">
            Error Message or Traceback:
        </label>
        <textarea
            id="traceback"
            name="traceback"
            rows="6"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"
            placeholder="Traceback (most recent call last)..."
            required
        >{{ traceback or '' }}</textarea>
    </div>
    <button type="submit"
            class="w-full bg-red-600 text-white py-3 rounded-lg font-medium hover:bg-red-700 transition">
        Explain Error
    </button>
</form>

<!-- Raw Traceback -->
{% if traceback %}
    <div class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-md mb-6">
        <h5 class="text-md font-semibold text-red-600 mb-2">📉 Raw Traceback</h5>
        <pre class="bg-gray-100 text-sm p-4 rounded-md border border-gray-200">{{ traceback }}</pre>
    </div>
{% endif %}

<!-- Explanation -->
{% if explanation %}
    <div class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-md">
        <h5 class="text-md font-semibold text-green-600 mb-2">💡 GPT Explanation</h5>
        <pre class="bg-gray-100 text-sm p-4 rounded-md border border-gray-200">{{ explanation }}</pre>
    </div>
{% endif %}
{% endblock %}
