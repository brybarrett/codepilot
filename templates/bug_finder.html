{% extends "base.html" %}

{% block content %}
<!-- Header -->
<div class="text-center mb-10">
    <h1 class="text-3xl font-bold text-red-600 mb-2">🐛 Bug Finder</h1>
    <p class="text-secondary text-lg">Paste a Python traceback and let GPT diagnose the issue.</p>
</div>

<!-- Form -->
<form method="post" action="/bug-finder"
      class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-md space-y-6 mb-10">
    <div>
        <label for="traceback" class="block text-sm font-medium text-gray-700 mb-1">
            Paste your traceback or error:
        </label>
        <textarea
            id="traceback"
            name="traceback"
            rows="8"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"
            placeholder="Traceback (most recent call last):&#10;  File &quot;main.py&quot;, line 1, in &lt;module&gt;&#10;    print(x)&#10;NameError: name 'x' is not defined"
            required
        >{{ code or '' }}</textarea>
    </div>
    <button type="submit"
            class="w-full bg-red-600 text-white py-3 rounded-lg font-medium hover:bg-red-700 transition">
        Explain Error
    </button>
</form>

<!-- Output -->
{% if explanation %}
    <div class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-md">
        <h5 class="text-md font-semibold text-red-600 mb-2">💡 GPT Debug Insight:</h5>
        <pre class="bg-gray-100 text-sm p-4 rounded-md border border-gray-200">{{ explanation }}</pre>
    </div>
{% endif %}
{% endblock %}
